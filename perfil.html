<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="perfil.css">
    <link rel="stylesheet" href="perfil.js">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>



<header class="head">
    <div class="top-line"></div>
    <a href="index.html"><p class="titulo">IMPULSE+</p></a>
    <img src="log.png" class="logo" alt="">

    <nav>
      <a class="a" href="humanas.html" onclick="toggleDropdown(event)">Humanas</a>
      <div id="dropdown-humanas" class="dropdown-content">
        <a href="humanas.html">Humanas</a>
        <a href="linguagens.html">Linguagens</a>
      </div>
      <a class="a1" href="exatas.html">Natureza</a>
      <a class="a2" href="redacao.html">Redação</a>
      <a class="a3" href="cartoes.html">Cartões</a>
      <a class="a4" href=""><div class="caixa"><p>Imersão</p></div></a>
    </nav>
    
    <a href="index1.html"><img class="icn" src="Icone perfil.png" alt=""></a>

</header>

<header>
    <meta charset="utf-8">
    <title>Chatbot in JavaScript | CodingNepal</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Fonts Link For Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Aclonica&display=swap" rel="stylesheet">
    <script src="script.js" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Lexend:wght@100..900&family=Rubik:ital,wght@0,390;1,390&display=swap" rel="stylesheet">
</header>


<body>

    <button class="chatbot-toggler">
        <span class="material-symbols-rounded">mode_comment</span>
        <span class="material-symbols-outlined">close</span>
      </button>
      <div class="chatbot">
        <header>
          <h2>DULCE</h2>
          <span class="close-btn material-symbols-outlined">close</span>
        </header>
        <ul class="chatbox">
          <li class="chat incoming">
            <span class="material-symbols-outlined">smart_toy</span>
            <p>Olá! Chamo-me Dulce <br>Como eu posso te ajudar hoje?</p>
          </li>
        </ul>
        <div class="chat-input">
          <textarea placeholder="Enter a message..." spellcheck="Mensagem não enviada" required></textarea>
          <span id="send-btn" class="material-symbols-rounded">send</span>
        </div>
      </div>
    

<p class="txt">USUÁRIO</p>

<div class="profile-container">
    <a onclick="toggleEditForm()"><img class="edit-button" src="editeicon.png" alt="Editar Perfil"></a>
    <img src="Anotação_2024-09-27_081208-removebg-preview.png" alt="Foto de Perfil" class="profile-photo" id="profile-photo"><br>
    <h1 class="usua" id="user-name">Nome do Usuário</h1><br>
    <div class="social-links">
        <a href="https://instagram.com/usuario" class="social-link" id="instagram-link">
            <i class="fab fa-instagram"></i> @usuario
        </a><br>
        <a href="mailto:usuario@email.com" class="social-link1" id="email-link">
            <i class="fas fa-envelope"></i> usuario@email.com
        </a>
    </div>
    <div class="but">
        <button type="button" class="outline" onclick="logout()"><strong>Sair da conta</strong></button>
    </div>
</div>

<!-- Formulário de edição de perfil -->
<div id="edit-form" class="edit-form" style="display: none;">
    <h2 class="opa">Edite seu Perfil</h2>
    <form onsubmit="saveChanges(event)">
        <label for="edit-name">Nome:</label>
        <input type="text" id="edit-name" ><br>
        
        <label for="edit-username">Usuário:</label>
        <input type="text" id="edit-username" ><br>

        <label for="edit-email">Email:</label>
        <input type="email" id="edit-email" ><br>
      
        <label for="edit-photo">Foto de Perfil:</label>
        <input type="file" id="edit-photo" accept="image/*"><br><br>

        <button type="submit">Salvar</button>
        <button type="button" onclick="toggleEditForm()">Cancelar</button>
    </form>
</div>

<script>
    // Função para mostrar/ocultar o formulário de edição
    function toggleEditForm() {
        const form = document.getElementById('edit-form');
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }

    // Função para salvar as mudanças no perfil e armazenar no Local Storage
    function saveChanges(event) {
        event.preventDefault();

        // Captura os novos valores inseridos pelo usuário
        const name = document.getElementById('edit-name').value;
        const username = document.getElementById('edit-username').value;
        const email = document.getElementById('edit-email').value;
        const phone = document.getElementById('edit-phone').value;
        const photoInput = document.getElementById('edit-photo');

        // Atualiza os elementos da página com as novas informações
        document.getElementById('user-name').textContent = name;
        document.getElementById('instagram-link').textContent = `@${username}`;
        document.getElementById('instagram-link').href = `https://instagram.com/${username}`;
        document.getElementById('email-link').textContent = email;
        document.getElementById('email-link').href = `mailto:${email}`;
        document.getElementById('phone-link').textContent = phone;
        document.getElementById('phone-link').href = `tel:${phone}`;

        // Armazena as informações no Local Storage
        localStorage.setItem('profileName', name);
        localStorage.setItem('profileUsername', username);
        localStorage.setItem('profileEmail', email);
        localStorage.setItem('profilePhone', phone);

        // Se o usuário alterou a foto de perfil, exibe e salva a nova imagem
        const file = photoInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('profile-photo').src = e.target.result;
                localStorage.setItem('profilePhoto', e.target.result);  // Salva a imagem no Local Storage
            };
            reader.readAsDataURL(file);
        }

        // Oculta o formulário de edição após salvar as mudanças
        toggleEditForm();
    }

    // Função para carregar os dados salvos no Local Storage
    function loadProfileData() {
        const name = localStorage.getItem('profileName');
        const username = localStorage.getItem('profileUsername');
        const email = localStorage.getItem('profileEmail');
        const phone = localStorage.getItem('profilePhone');
        const photo = localStorage.getItem('profilePhoto');

        // Se houver dados no Local Storage, exibe-os na página
        if (name) document.getElementById('user-name').textContent = name;
        if (username) {
            document.getElementById('instagram-link').textContent = `@${username}`;
            document.getElementById('instagram-link').href = `https://instagram.com/${username}`;
        }
        if (email) {
            document.getElementById('email-link').textContent = email;
            document.getElementById('email-link').href = `mailto:${email}`;
        }
        if (phone) {
            document.getElementById('phone-link').textContent = phone;
            document.getElementById('phone-link').href = `tel:${phone}`;
        }
        if (photo) document.getElementById('profile-photo').src = photo;
    }
</script>

</body>
</html>
